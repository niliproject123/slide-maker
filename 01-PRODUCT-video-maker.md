# Video Frames Editor - Product Specification

## מטרת המוצר

אפליקציה ליצירת סרטונים מתמונות שנוצרות באמצעות AI. המשתמש מנהל פריימים, כל פריים הוא צ'אט שבו אפשר לייצר תמונות עד שמגיעים לתוצאה הרצויה. בסוף בוחרים תמונה אחת מכל פריים ומייצאים סרטון.

---

## מבנה המידע

### User
משתמש רשום במערכת. מתחבר עם אימייל וסיסמה. יכול להתחבר מכל מכשיר.

### Project
תיקייה שמכילה וידאואים. לכל פרויקט יש שם ותאריך יצירה. יש לו גם Gallery לתמונות שהועברו מפרויקטים אחרים.

### Gallery
מקום בפרויקט לתמונות שהגיעו מפרויקטים אחרים ועדיין לא שויכו ל-Frame. תמונות שנוצרות בצ'אט לא נכנסות לכאן - רק תמונות שהועברו.

### Video
יחידת עבודה שמכילה Context אחד ורשימה מסודרת של Frames. לכל וידאו יש שם. בסוף מייצאים ממנו סרטון.

### Context
צ'אט מיוחד ששייך לוידאו. משמש כהקשר כללי שאפשר לצרף לכל prompt בכל frame. יש לו היסטוריה של הודעות ותמונות. אפשר להתחיל אותו מחדש.

### Frame
צ'אט שמייצג סצנה אחת בסרטון. יש לו כותרת, סדר בתוך הוידאו, היסטוריה של הודעות ותמונות, ותמונה נבחרת אחת שתופיע בסרטון הסופי. אפשר להתחיל אותו מחדש.

### Message
הודעה בתוך צ'אט. מכילה את הטקסט ששלח המשתמש, סימון האם לצרף את ה-Context, ורשימת התמונות שהתקבלו.

### Image
תמונה שנוצרה. שייכת ל-Message מסוים (בתוך Frame או Context) או ל-Gallery של פרויקט. אפשר למחוק אותה, להעביר אותה ל-Frame אחר או לפרויקט אחר, או לבחור אותה כתמונה הראשית של ה-Frame.

---

## מסכים

### 1. מסך התחברות

המשתמש מזין אימייל וסיסמה. אפשרות להירשם אם אין חשבון. אחרי התחברות מועבר לרשימת הפרויקטים.

```
┌─────────────────────────────────────────────────┐
│                                                 │
│                                                 │
│              🎬 Video Frames Editor             │
│                                                 │
│         ┌─────────────────────────────┐         │
│         │ Email                       │         │
│         └─────────────────────────────┘         │
│                                                 │
│         ┌─────────────────────────────┐         │
│         │ Password                    │         │
│         └─────────────────────────────┘         │
│                                                 │
│         ┌─────────────────────────────┐         │
│         │          Login              │         │
│         └─────────────────────────────┘         │
│                                                 │
│              Don't have an account?             │
│                    Sign up                      │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 2. רשימת פרויקטים

מציג את כל הפרויקטים של המשתמש. כפתור ליצירת פרויקט חדש. לחיצה על פרויקט נכנסת לתוכו.

```
┌─────────────────────────────────────────────────┐
│ My Projects                            [+ New]  │
├─────────────────────────────────────────────────┤
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 📁 Summer Campaign                          │ │
│ │    3 videos · Dec 15                        │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 📁 Product Launch                           │ │
│ │    1 video · Dec 10                         │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 📁 Tutorial Series                          │ │
│ │    5 videos · Nov 28                        │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 3. תוך פרויקט

מציג את כל הוידאואים בפרויקט, גישה לכל התמונות בפרויקט, וגישה ל-Gallery (תמונות שהועברו מפרויקטים אחרים). כפתור ליצירת וידאו חדש. לחיצה על וידאו נכנסת לעריכה שלו.

```
┌─────────────────────────────────────────────────┐
│ ← Summer Campaign                      [+ New]  │
├─────────────────────────────────────────────────┤
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 🎬 Episode 1 - Intro                        │ │
│ │    4 frames · 12 images                     │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 🎬 Episode 2 - Features                     │ │
│ │    6 frames · 24 images                     │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 🎬 Episode 3 - Summary                      │ │
│ │    3 frames · 8 images                      │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ─────────────────────────────────────────────── │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 🖼️ All Images (44)                          │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 📥 Gallery (3) ← images from other projects │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 4. גלריית תמונות (All Images)

מציגה את כל התמונות בפרויקט, מחולקות לפי וידאו. אפשר למחוק תמונות, להעביר ל-Frame אחר, ולהעביר לפרויקט אחר.

```
┌─────────────────────────────────────────────────┐
│ ← All Images                                    │
├─────────────────────────────────────────────────┤
│                                                 │
│ Episode 1 - Intro:                              │
│ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐  │
│ │      │ │      │ │      │ │      │ │      │  │
│ │      │ │      │ │      │ │      │ │      │  │
│ └──────┘ └──────┘ └──────┘ └──────┘ └──────┘  │
│ ┌──────┐ ┌──────┐                              │
│ │      │ │      │                              │
│ │      │ │      │                              │
│ └──────┘ └──────┘                              │
│                                                 │
│ Episode 2 - Features:                           │
│ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐  │
│ │      │ │      │ │      │ │      │ │      │  │
│ │      │ │      │ │      │ │      │ │      │  │
│ └──────┘ └──────┘ └──────┘ └──────┘ └──────┘  │
│                                                 │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ Image selected                                  │
├─────────────────────────────────────────────────┤
│                                                 │
│ [Move to frame...] [Move to project...] [🗑️]   │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 5. Gallery (תמונות שהועברו)

תמונות שהגיעו מפרויקטים אחרים ולא שויכו עדיין ל-Frame. מכאן אפשר לשייך אותן ל-Frame או למחוק.

```
┌─────────────────────────────────────────────────┐
│ ← Gallery                                       │
├─────────────────────────────────────────────────┤
│                                                 │
│ ┌──────┐ ┌──────┐ ┌──────┐                     │
│ │      │ │      │ │      │                     │
│ │      │ │      │ │      │                     │
│ └──────┘ └──────┘ └──────┘                     │
│                                                 │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ Image selected                                  │
├─────────────────────────────────────────────────┤
│                                                 │
│ [Assign to frame...]                    [🗑️]   │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 6. עריכת וידאו

בראש המסך שם הוידאו וכפתור ייצוא.

מתחתיו ה-Context עם אינדיקציה כמה הודעות ותמונות יש בו וכפתור לפתוח אותו.

מתחתיו רשימת ה-Frames לפי הסדר. כל frame מציג את הכותרת שלו, את התמונה הנבחרת שלו (אם יש), וכפתורים להזיז למעלה/למטה, לערוך כותרת, ולמחוק. לחיצה על frame פותחת את הצ'אט שלו.

בתחתית כפתור להוספת frame חדש.

```
┌─────────────────────────────────────────────────┐
│ ← Episode 1 - Intro                  [Export 📹]│
├─────────────────────────────────────────────────┤
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 🌍 Context                                  │ │
│ │    2 messages · 6 images       [Open Chat]  │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ─────────────────────────────────────────────── │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │                                             │ │
│ │ ┌──────┐  Frame 1: הגיבור מתעורר           │ │
│ │ │  🖼️  │                                    │ │
│ │ │      │  [Open Chat]                       │ │
│ │ └──────┘                     [↑][↓][✏️][🗑️]│ │
│ │                                             │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │                                             │ │
│ │ ┌──────┐  Frame 2: המסע ביער               │ │
│ │ │  🖼️  │                                    │ │
│ │ │      │  [Open Chat]                       │ │
│ │ └──────┘                     [↑][↓][✏️][🗑️]│ │
│ │                                             │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │                                             │ │
│ │ ┌──────┐  Frame 3: ההגעה לטירה             │ │
│ │ │      │  No image selected                 │ │
│ │ │  ?   │  [Open Chat]                       │ │
│ │ └──────┘                     [↑][↓][✏️][🗑️]│ │
│ │                                             │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ [+ Add Frame]                                   │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 7. צ'אט - Context

```
┌─────────────────────────────────────────────────┐
│ ← Context                     [Clear History]   │
├─────────────────────────────────────────────────┤
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ Type prompt...                              │ │
│ │                                   [Send 🎨] │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ─────────────────────────────────────────────── │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ "cinematic, dark mood, fantasy style"       │ │
│ │                                             │ │
│ │ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐       │ │
│ │ │      │ │      │ │      │ │      │       │ │
│ │ └──────┘ └──────┘ └──────┘ └──────┘       │ │
│ │                                             │ │
│ │        [Move to frame...] [🗑️ Delete]      │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ "medieval setting, golden hour light"       │ │
│ │                                             │ │
│ │ ┌──────┐ ┌──────┐                          │ │
│ │ │      │ │      │                          │ │
│ │ └──────┘ └──────┘                          │ │
│ │                                             │ │
│ │        [Move to frame...] [🗑️ Delete]      │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 8. צ'אט - Frame

בראש המסך הכותרת וכפתור לנקות היסטוריה.

מתחת לכותרת מוצגת התמונה הנבחרת הנוכחית (אם יש).

מתחת לזה שדה טקסט לכתיבת prompt עם checkbox "עם Context" וכפתור שליחה.

מתחת לזה ההיסטוריה, מהחדש למעלה לישן למטה. כל הודעה מציגה את הטקסט שנשלח, האם נשלח עם Context, ואת התמונות שהתקבלו. לכל תמונה אפשר לבחור אותה כתמונה הראשית, להעביר אותה ל-Frame אחר, להעביר לפרויקט אחר, או למחוק אותה.

```
┌─────────────────────────────────────────────────┐
│ ← Frame 1: הגיבור מתעורר      [Clear History]   │
├─────────────────────────────────────────────────┤
│                                                 │
│         ┌────────────────────┐                  │
│         │                    │                  │
│         │   Selected Image   │                  │
│         │        🖼️          │                  │
│         │                    │                  │
│         └────────────────────┘                  │
│                                                 │
│ ─────────────────────────────────────────────── │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ Type prompt...                              │ │
│ │ ☐ with context                    [Send 🎨] │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ─────────────────────────────────────────────── │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ "hero waking up, more dramatic lighting"    │ │
│ │ ☑️ with context                             │ │
│ │                                             │ │
│ │ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐       │ │
│ │ │  ✓   │ │      │ │      │ │      │       │ │
│ │ └──────┘ └──────┘ └──────┘ └──────┘       │ │
│ │                                             │ │
│ │ [Set as selected] [Move to...] [🗑️ Delete] │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ "young hero waking up in small village"     │ │
│ │ ☐ with context                              │ │
│ │                                             │ │
│ │ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐       │ │
│ │ │      │ │      │ │      │ │      │       │ │
│ │ └──────┘ └──────┘ └──────┘ └──────┘       │ │
│ │                                             │ │
│ │ [Set as selected] [Move to...] [🗑️ Delete] │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 9. Modal - העברה (Move to...)

משמש גם להעברה בין Frames וגם להעברה לפרויקט אחר.

```
┌─────────────────────────────────────────────────┐
│                                                 │
│  ┌───────────────────────────────────────────┐  │
│  │ Move image                                │  │
│  ├───────────────────────────────────────────┤  │
│  │                                           │  │
│  │ ┌─────────────────────────────────────┐   │  │
│  │ │ This project (Summer Campaign)      │   │  │
│  │ ├─────────────────────────────────────┤   │  │
│  │ │   ○ Episode 1 → Frame 1             │   │  │
│  │ │   ○ Episode 1 → Frame 2             │   │  │
│  │ │   ● Episode 2 → Frame 1             │   │  │
│  │ └─────────────────────────────────────┘   │  │
│  │                                           │  │
│  │ ┌─────────────────────────────────────┐   │  │
│  │ │ Other projects                       │   │  │
│  │ ├─────────────────────────────────────┤   │  │
│  │ │   ○ Product Launch → Gallery        │   │  │
│  │ │   ○ Product Launch → Video 1 → Fr 1 │   │  │
│  │ │   ○ Tutorial Series → Gallery       │   │  │
│  │ └─────────────────────────────────────┘   │  │
│  │                                           │  │
│  │              [Cancel]  [Move]             │  │
│  └───────────────────────────────────────────┘  │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 10. Modal - עריכת כותרת Frame

```
┌─────────────────────────────────────────────────┐
│                                                 │
│  ┌───────────────────────────────────────────┐  │
│  │ Edit frame title                          │  │
│  ├───────────────────────────────────────────┤  │
│  │                                           │  │
│  │ ┌───────────────────────────────────────┐ │  │
│  │ │ הגיבור מתעורר                         │ │  │
│  │ └───────────────────────────────────────┘ │  │
│  │                                           │  │
│  │              [Cancel]  [Save]             │  │
│  └───────────────────────────────────────────┘  │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 11. Modal - אישור מחיקה

```
┌─────────────────────────────────────────────────┐
│                                                 │
│  ┌───────────────────────────────────────────┐  │
│  │ Delete Frame?                             │  │
│  ├───────────────────────────────────────────┤  │
│  │                                           │  │
│  │ This will permanently delete the frame    │  │
│  │ and all 12 images in it.                  │  │
│  │                                           │  │
│  │              [Cancel]  [Delete]           │  │
│  └───────────────────────────────────────────┘  │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

## תהליכים

### יצירת תמונות

המשתמש כותב prompt בשדה הטקסט. אם הוא מסמן "עם Context", הטקסט מה-Context מתחבר לפני ה-prompt. הבקשה נשלחת ל-OpenAI DALL-E 3. התמונות שחוזרות נשמרות ב-Cloudinary ומופיעות כהודעה חדשה בהיסטוריה.

### בחירת תמונה ראשית

המשתמש לוחץ על תמונה בהיסטוריה ובוחר "Set as selected". התמונה מופיעה בראש ה-Frame ותופיע בסרטון הסופי.

### העברת תמונה בין Frames

המשתמש לוחץ על תמונה ובוחר "Move to...". נפתח modal שמציג את כל ה-Frames באותו פרויקט. הוא בוחר Frame והתמונה עוברת לשם.

### העברת תמונה לפרויקט אחר

המשתמש לוחץ על תמונה ובוחר "Move to...". נפתח modal שמציג גם פרויקטים אחרים. הוא בוחר פרויקט ויעד (Gallery או Frame ספציפי). התמונה עוברת ונמחקת מהמיקום הנוכחי.

### שיוך תמונה מה-Gallery

מה-Gallery, המשתמש בוחר תמונה ולוחץ "Assign to frame...". נפתח modal לבחירת Video ו-Frame. התמונה עוברת ל-Frame ונמחקת מה-Gallery.

### ייצוא סרטון

המשתמש לוחץ על כפתור הייצוא בעריכת וידאו. המערכת לוקחת את התמונה הנבחרת מכל Frame לפי הסדר ושולחת ל-Cloudinary ליצירת slideshow. הסרטון מוחזר למשתמש להורדה.

### התחלה מחדש (Clear History)

המשתמש לוחץ "Clear History" בצ'אט. נפתח modal אישור. אם מאשר - כל ההודעות והתמונות בצ'אט נמחקות. ב-Frame גם התמונה הנבחרת נמחקת.

---

## מחיקות

### מחיקת תמונה
התמונה נמחקת מ-Cloudinary ומה-Database.

### מחיקת Frame
נפתח modal אישור שמציג כמה תמונות יימחקו. אם מאשר - כל התמונות ב-Frame נמחקות מ-Cloudinary, ה-Frame וכל ההודעות נמחקים מה-Database.

### מחיקת Video
נפתח modal אישור שמציג כמה Frames ותמונות יימחקו. אם מאשר - כל התמונות בכל ה-Frames נמחקות מ-Cloudinary, ה-Video וכל תוכנו נמחק מה-Database.

### מחיקת Project
נפתח modal אישור שמציג כמה Videos, Frames ותמונות יימחקו. אם מאשר - כל התמונות בפרויקט נמחקות מ-Cloudinary, הפרויקט וכל תוכנו נמחק מה-Database.

---

## הערות

ההתחברות נדרשת כדי לשמור את המידע בין סשנים ולאפשר גישה מכל מכשיר.

התמונה הנבחרת של Frame היא מה שייכנס לסרטון.

כשמעבירים תמונה היא עוברת ולא מועתקת.

ה-Context הוא אופציונלי. אפשר לא להשתמש בו בכלל.

ה-Gallery מכיל רק תמונות שהועברו מפרויקטים אחרים. תמונות חדשות נוצרות תמיד בתוך Frame או Context.
